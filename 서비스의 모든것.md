**프로젝트 소개**
-------

안드로이드 앱을 개발하다보면 메모리 부족 문제에 시달리기 쉽습니다.
그러므로 앱을 개발하는데 있어서 메모리 관리는 정말 중요합니다.
메모리의 정의부터 안드로이드에서의 메모리 관리까지 정리해보았습니다.
내용중에 메모리와 상관없는 내용이 있을 수도 있습니다. 그런 내용은 제가 공부하면서 궁금한 점이 꼬리에 꼬리를 물었기때문에 같이 정리해서 그렇습니다.
그런 내용은 Skip 하셔도 됩니다!

프로젝트는 지속적으로 추가 될 예정입니다. 상단의 Star, Watching 버튼을 클릭하시면 구독 알림을 받으실 수 있습니다 :)


----------


**목차**
--

 - [프로젝트 소개](#프로젝트-소개)
 - [목차](#목차)
 - [전체 플로우](#전체-플로우)
  - [서비스란?](#서비스란?)
  - [서비스의 유형](#서비스의-유형)
  - [서비스 vs 쓰레드](#서비스-vs-쓰레드)
  - [서비스의 LifeCycle](#서비스의-LifeCycle)
  - [startService() vs bindService()](#startService()-vs-bindService())
  - [onStartCommand()의 리턴값](#onStartCommand()의-리턴값)
  - [서비스 시작 버전별 메소드](#서비스-시작-버전별-메소드)
  - [서비스 종료 메소드](#서비스-종료-메소드)
  - [바인딩 서비스란?](#바인딩-서비스란?)
     - [바인딩/해제 메소드 호출시점](#바인딩/해제-메소드-호출시점)
  - [포그라운드 서비스란?](#포그라운드-서비스란?)
  - [Activity와 서비스의 상황별 통신방법](#Activity와-서비스의-상황별-통신방법)
  - [API버전별 백그라운드 서비스 대응](#API버전별-백그라운드-서비스-대응)


----------

**전체 플로우**
----------


**서비스란?**
------------------------------------------
백그라운드에서 오랜 시간동안 실행되는 작업을 수행할 수 있는 구성요소다.

구성요소(Ex.Activity)를 서비스에 바인딩하여 상호작용할 수 있으며, 심지어는 프로세스간 통신(IPC)도 할 수 있다.

이 모든 것을 백그라운드에서 수행할 수 있다.

참고로, 서비스는 별도의 스레드 또는 별도의 프로세스에서 실행되는 것이 아닌, 메인 스레드에서 실행된다.

그러므로 서비스가 무거운 작업을 수행할 예정인 경우, 새 스레드를 생성하여 작업을 수행하도록 해야 한다. 

이는 ANR 오류위험을 줄일 수 있다.


**서비스의 유형**
------------------------------------------
서비스는 세가지 유형이 있다.

**1. 포그라운드**

포그라운드 서비스는 사용자에게 잘 보이는 작업을 수행한다. 또한 포그라운드 서비스는 상태바에 알림을 표시해야 한다.

**2. 백그라운드**

백그라운드 서비스는 사용자에게 직접 보이지 않는 작업을 수행한다.

**3. 바인드**

바인딩 된 서비스는 클라이언트-서버 인터페이스를 제공하여 구성요소가 서비스와 상호작용하게 하며 결과를 받을 수 있다.

여러개의 구성요소가 서비스에 한꺼번에 바인딩 될 수 있으며, 이 모든 구성요소들의 바인딩이 해제되면 서비스는 소멸된다.


**서비스 vs 쓰레드**
------------------------------------------
서비스는 그저 백그라운드에서 실행될 수 있는 구성요소이다. 이는 사용자가 앱과 상호작용하지 않아도 상관없다.

서비스는 기본적으로 메인 스레드에서 실행되므로, 무거운 작업을 해야 할 경우엔 새 쓰레드를 생성해서 작업해야 한다.

(서비스는 별도의 쓰레드도, 프로세스도 아니다!)

즉, 앱이 실행중일때만(Foreground) 필요한 기능이라면 쓰레드를 사용하는 것이 맞고

앱이 실행중이지 않을때(Background) 실행되어야 한다면 서비스를 이용해야 한다.


**서비스의 LifeCycle**
------------------------------------------











